播放常见设置 
===========================

在使用视频点播播放服务时，可以根据不同的播放场景选择播放地址进行播放，您可以通过域名配置、转码配置和播放设置来控制获取到的播放地址类型。本文为您介绍一些常用的设置。

域名配置 
-------------------------

* 添加域名

  * 配置加速域名：请确保启用的点播域名进行过域名备案。更多信息，请参见[域名准入标准](/cn.zh-CN/控制台指南/域名管理/域名准入标准.md)。

    
  
  * 域名CNAME解析：请确保域名完成了CNAME绑定，否则无法播放。CNAME绑定请参见[阿里云（原万网）解析配置CNAME流程](/cn.zh-CN/控制台指南/域名管理/配置CNAME/阿里云（原万网）解析配置CNAME流程.md)，同时也支持[新网](/cn.zh-CN/控制台指南/域名管理/配置CNAME/新网配置CNAME流程.md)和[DNSPod](/cn.zh-CN/控制台指南/域名管理/配置CNAME/DNSPod配置CNAME流程.md)的域名接入。

    
  
  * 配置CDN加速域名：具体操作，请参见[添加加速域名](/cn.zh-CN/控制台指南/域名管理/添加加速域名.md)。

    
  

  




<!-- -->

* URL鉴权配置

  * 地址过期时间：您可以设置CDN加速地址过期时间`AuthTimeout`，URL失效时间计算规则，请参见[URL鉴权](/cn.zh-CN/开发指南/视频安全/URL鉴权.md)-URL失效时间。

    
  
  * 二次鉴权：

    * 配置CDN二次鉴权时，设置`ReAuthInfo`参数可以在CDN的鉴权参数中附加uid和rand参数。更多信息，请参见[CDN二次鉴权设置 ReAuthInfo](/cn.zh-CN/服务端API/附录/请求参数说明.md)。

      
    
    * 未配置CDN二次鉴权时，`ReAuthInfo`中的`rand`参数可用于确保每次生成的URL不同，如使用UUID等做随机数。更多信息，请参见[CDN二次鉴权设置 ReAuthInfo](/cn.zh-CN/服务端API/附录/请求参数说明.md)。

      
    

    
  

  

* 多域名选择

  当您的源站配置了多个域名时，设置`PlayConfig`参数的`PlayDomain`用于返回指定CDN域名的播放地址。更多信息，请参见[媒体播放自定义设置 PlayConfig](/cn.zh-CN/服务端API/附录/请求参数说明.md)。
  

* HTTPS安全加速

  播放接口返回的图片地址和播放地址的网络协议默认为HTTP，当需要获取HTTPS网络协议的地址时，视频点播支持开启对CDN域名的HTTPS安全加速。具体操作，请参见[HTTPS安全加速设置](/cn.zh-CN/控制台指南/域名管理/HTTPS安全加速/HTTPS安全加速设置.md) 。
  




转码配置 
-------------------------
视频点播支持您对上传至视频点播的媒体文件做转码或不转码处理。
* 转码后，播放服务获取的播放地址是经过转码处理后生成的，播放地址的格式、清晰度、是否加密及水印ID均与您的转码配置有关。


* 不转码，播放服务获取的播放地址是您上传至视频点播的原始文件，作为原画用于播放。



更多信息，请参见[转码模板](/cn.zh-CN/开发指南/媒体处理/音视频转码.md)。 {#h2--div-id-domain-div-2}
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

播放设置 
-------------------------

播放服务支持如下三种播放方式：

* 控制台预览：无需配置。

  

* 播放地址：在调用[获取视频播放地址](/cn.zh-CN/服务端API/音视频播放/获取视频播放地址.md)接口时，通过不同的播放设置过滤播放地址用于播放。

  

* 播放器：对阿里云播放器SDK进行播放设置，播放器自动过滤播放地址进行播放。

  




**播放接口设置：** 

视频点播[获取视频播放地址](/cn.zh-CN/服务端API/音视频播放/获取视频播放地址.md)接口，支持对如下基本播放信息做筛选，以满足不同的播放场景。

* 清晰度

  `Defintion`，播放接口支持您一次选择多个清晰度，可以在不同网络情况下做清晰度的切换；当您未设置时，播放接口会返回指定视频存在的所有清晰度的播放地址。
  

* 输出文件格式

  `Formats`，转码处理后的文件封装格式，目前仅支持`MP4`、`MP3`、`M3U8`，根据不同的播放场景您可以选择获取不同格式的输出流文件进行播放，支持传入多个值。
  

* 输出流类型

  `StreamType`，分为视频（video）和音频（audio），不同的播放场景可以选择不同类型的输出流地址进行播放。
  

* 输出文件类型

  `OutputType`：
  * 未配置CDN加速域名时，播放接口默认返回的播放地址为OSS回源地址。

    
  
  * 配置CDN加速域名后，播放地址默认返回的是CDN加速地址。

    
  
  * 您也可以通过设置`OutputType`，获取OSS回源地址或CDN加速地址。

    
  

  

* 输出结果类型

  `ResultType`，视频点播默认每种清晰度和格式只对应一个播放地址，如果您对已经转码完成的视频提交媒体转码作业处理后，每种清晰度和格式会对应多个播放地址。为了保证每次播放的是最新转码输出的流，播放接口默认每种清晰度和格式只返回一路最新转码完成的流。当您需要获取所有转码完成的流地址时，可以设置`ResultType`值为`Multiple`。
  **注意**

  当一个视频对应的输出流地址超过100条时，`ResultType`值为`Multiple`最多只能获取100条输出流地址。
  




**播放器设置：** 

阿里云播放器支持通过播放凭证自动换取播放地址进行播放，目前支持 Web（H5、Flash）、iOS和Android，以下将介绍每个端支持的播放设置。

* Web播放器SDK

  * 目前H5播放器支持设置输出流类型`mediaType`、输出文件格式`format`及清晰度`definition`。更多信息，请参见[功能使用说明](/cn.zh-CN/播放器SDK/Web播放器/功能使用说明.md)。

    
  
  * Flash播放器仅支持视频类型的媒体文件播放，支持设置输出流类型`mediaType`和输出文件格式`format`。

    
  

  




<!-- -->

* iOS播放器SDK

  目前支持设置输出文件格式`format`及期望清晰度`quality`。
  

* Android播放器SDK

  目前支持设置输出文件格式`format`及期望清晰度`quality`。
  



