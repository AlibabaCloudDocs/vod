推荐模板配置 
===========================

本文主要介绍一些媒体处理相关的配置经验，为用户提供参考。

转码模板配置 
---------------------------

**视频参数：** 

* 禁用视频

  勾选此选项，则输出文件不包含视频信息，常用与生成一路纯音频，如电台等场景。
  

* 码率、分辨率

  * 码率（Bitrate）是指视频文件在单位时间内使用的数据流量，也叫码流或码流率，是视频编码中画面质量控制最重要的部分。量度单位为"比特每秒"（bit/s或bps），常使用Kbps（每秒多少千个比特）或Mbps。

    一般来说同样分辨率下，视频文件的码率越大，压缩比就越小，画面质量就越高。码率越大，说明单位时间内取样率越大，数据流精度就越高，处理出来的文件就越接近原始文件，图像质量越好，画质越清晰，要求播放设备的解码能力也越高。
    
  
  * 分辨率（Resolution）用来描述视频对细节的分辨能力，通常表示为每一个方向上的像素数量，比如1280×720等。

    分辨率决定了视频画面细节的精细程度。通常情况下，视频的分辨率越高，所包含的像素就越多，画面就越清晰。分辨率是决定码率的主要因素，不同的分辨率要采用不同的码率。
    
  
  * 总体而言，视频的分辨率越高，所要求的码率也越大，但并不总是如此，不同分辨率都有合理的码率选择范围。所谓"合理的范围"指的是，如果低于这个范围，视频画面质量会很差（即很模糊）；如果高于这个范围，画面提升有限或无提升，则没有必要，对于网络流量以及存储空间是一种浪费。

    
  
  * 对于不同的清晰度输出，码率、分辨率有不同的推荐值：

    

    | 清晰度 | 推荐码率 |   推荐分辨率   |        分辨率区间         |
    |-----|------|-----------|----------------------|
    | 流畅  | 400  | 640×360   | 128×128\~640×360     |
    | 标清  | 900  | 960×540   | 641×361\~960×540     |
    | 高清  | 1500 | 1280×720  | 961×541\~1280×720    |
    | 超清  | 3000 | 1920×1080 | 1281×721\~1920×1080  |
    | 2K  | 3500 | 2560×1440 | 1920×1080\~2560×1440 |
    | 4K  | 6000 | 2560×1440 | 2560×1440\~3840×2160 |

    
    **说明**

    
    * 分辨率的宽和高可不设置。如果仅设置宽，高度会按照视频原始比例进行缩放。如果宽高都不设置，则会按照原始视频宽高值进行处理。

      
    
    * 码率单位：Kbps。

      
    
    * 分辨率（宽×高）单位：px。

      
    

    
    
  

  

* 帧率

  帧率（Frame Rate）是单位时间内视频显示帧数的量度单位，也就是每秒钟刷新的图片的帧数，量度单位为"每秒显示帧数"（Frame Per Second，FPS）或"赫兹"。

  高的帧率可以得到更流畅、更逼真的画面效果。一般来说25\~30fps就可接受，提升至60fps则可以明显提升交互感和逼真感，但一般来说超过75fps就不容易察觉到有明显的流畅度提升了。如果帧率超过屏幕刷新率只会浪费图形处理的能力，因为显示设备不能以这么快的速度更新，这样超过刷新率的帧率就浪费掉了。在分辨率不变的情况下，帧率越高，则对显卡的处理能力要求越高。

  **点播默认推荐值：25 FPS。**
  

* 关键帧最大间隔（一个GOP内的帧数）

  GOP（Group of Pictures）是一组以 MPEG 编码的影片或视讯串流内部的连续图像，以 I 帧开头，到下一个 I 帧结束。一个 GOP 包含如下图像类型：
  * I 帧（Intra Coded Picture）：又称帧内编码帧，为关键帧，是一种自带全部信息的独立帧，无需参考其他图像便可独立进行解码，可以简单理解为一张静态画面。视频序列中的第一个帧始终都是I 帧，每个 GOP 由I 帧开始。

    
  
  * P 帧（Predictive Coded Picture）：又称帧间预测编码帧，需要参考前面的I帧才能进行编码。表示的是当前帧画面与前一帧（前一帧可能是I帧也可能是P帧）的差别。解码时需要用之前缓存的画面叠加上本帧定义的差别，生成最终画面。与I帧相比，P帧通常占用更少的数据位，但不足是，由于P帧对前面的P和I参考帧有着复杂的依耐性，因此对传输错误非常敏感。

    
  
  * B 帧（Bidirectionally Predictive Coded Pictures）：又称双向预测编码帧，也就是B帧记录的是本帧与前后帧的差别。也就是说要解码B帧，不仅要取得之前的缓存画面，还要解码之后的画面，通过前后画面的与本帧数据的叠加取得最终的画面。B帧压缩率高，但是对解码性能要求较高。

    
  

  

  GOP值表示关键帧的间隔，也就是两个IDR帧之间的距离，一个帧组的最大帧数。一般而言，每一秒视频至少需要使用 1 个关键帧。增加关键帧个数可改善视频质量，但会同时增加带宽和网络负载。GOP值（帧数）除以帧率即为时间间隔。

  **阿里云视频点播推荐的GOP值为250帧，帧率为25 FPS，则时间间隔为250/25=10秒。**
  




**音频参数：** 

* 禁用音频

  勾选此选项，则输出文件不包含音频，常用与需要把原视频声音禁用场景。
  

* 采样率

  采样率（Sample Rate），也称为采样速度或者采样频率，定义了每秒从连续信号中提取并组成离散信号的采样个数，单位为赫兹（HZ）。采样率是指将模拟信号转换成数字信号时的采样频率，也就是单位时间内采样多少点，采样频率越高声音的还原就越真实越自然。

  **点播推荐值：44100 HZ。**
  

* 码率

  

  |  音质  | 推荐码率 |
  |------|------|
  | 普通音质 | 128  |
  | 高音质  | 320  |

  
  **说明**

  码率单位：Kbps。音频码率支持输入范围8Kbps\~1000Kbps。
  

* 声道数

  **点播推荐值：2。**
  




截图模板配置 
---------------------------

* 普通截图

  普通截图参数设置可按照需求进行设置，参数详细请参考[普通截图配置SnapshotConfig](/cn.zh-CN/服务端API/附录/媒体处理参数说明.md)。如需要保证截图宽高和原视频保持一致，则建议不设置Width、Height参数。
  

* 雪碧图截图

  雪碧图参数设置可按照需求进行设置，参数详细请参考[雪碧图配置SpriteSnapshotConfig](/cn.zh-CN/服务端API/附录/媒体处理参数说明.md)。其中参数KeepCellPic如无特殊需要，建议设置为delete，即不保留生成雪碧图的原始小图文件。
  




水印配置 
-------------------------

* 图片水印

  如需要尽量保证水印在不同分辨率输出视频的显示效果，建议Width、Height、Dx、Dy参数按照画面占比设置。更多信息，请参见[如果水印类型为Image](/cn.zh-CN/服务端API/附录/媒体处理参数说明.md)。
  

* 文字水印

  文字水印的各参数取值详细，请参见[如果水印类型为Text](/cn.zh-CN/服务端API/附录/媒体处理参数说明.md)，除文字水印内容外，其他参数如无特殊需求可参考默认取值。
  



