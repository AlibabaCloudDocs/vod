# 防盗链

为限制CDN缓存节点资源的用户，提高CDN的安全性，您可以配置Referer防盗链设置黑名单或白名单，实现对访客身份的识别和过滤。通过本文，您可以了解Referer防盗链的配置方法。

防盗链功能基于HTTP协议支持的Referer机制，通过Referer跟踪来源，对来源进行识别和判断。

目前防盗链功能支持黑名单或白名单机制，您对资源发起请求后，请求到达CDN节点，CDN节点会根据您预设的防盗链黑名单或白名单，对访客的身份进行过滤。符合规则的用户可以顺利请求到资源，不符合规则的用户，请求会返回403响应码。

**说明：**

-   防盗链是可选配置，默认不启用。
-   黑白名单互斥，同一时间您只能选择一种方式。
-   配置防盗链后，CDN支持自动添加泛域名。例如，如果您填写`a.com`，则最终配置生效的是`*.a.com`，所有子级域名都会生效。
-   您可以设置是否允许空Referer字段访问资源，即允许通过浏览器地址栏直接访问资源URL。

## 操作步骤

1.  登录[视频点播控制台](https://vod.console.aliyun.com/)。

2.  在点播控制台左侧导航栏选择**配置管理**。

3.  单击**分发加速配置** \> **域名管理**，进入域名管理页面。

4.  选择您要配置的域名，单击**配置**。

    ![配置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1277415061/p180549.png)

5.  单击**访问控制**。

6.  单击**Refer防盗链**页签，单击**修改配置**。

    ![修改配置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0438415061/p181673.png)

7.  配置**Referer类型**和**规则**，单击**确定**完成配置。

    ![配置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0438415061/p181675.png)

    Referer防盗链类型及说明如下表所示。

    |类型|说明|
    |--|--|
    |**黑名单**|黑名单内的域名均无法访问当前的资源。|
    |**白名单**|只有白名单内的域名能访问当前资源，白名单以外的域名均无法访问当前的资源。|


