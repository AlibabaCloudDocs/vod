# Android短视频SDK

本文为您介绍了阿里云Android短视频SDK在不同更新时间对应的更新功能。

## 功能更新说明

|**日期**|**版本**|**修改内容**|
|------|------|--------|
|2021-06-11|V3.22.0|-   编辑时新增花字功能。
-   新增局部屏幕采集功能。
-   新增边录屏边进行摄像头采集的功能。
-   在自定义特效Shader类中新增时间的内建变量（BUILTIN\_PROGRESS）。
-   修复合拍时合拍视频高度可能会少两个像素的问题。
-   提升SDK稳定性，修复部分场景下不稳定的问题。 |
|2021-04-28|V3.21.0|-   新增合拍摄像头视频展示时，支持使用圆角边框。
-   支持使用HECI图片的导入工具。
-   修复部分机型进行软编过程中内存堆积并导致崩溃的问题。
-   修复自定义渲染回调相机矩阵没有及时更新的问题。
-   修复SDK稳定性问题。 |
|2021-03-24|V3.20.0|-   编辑模块音频增加淡入淡出效果。
-   编辑模块增加组合字幕功能。
-   编辑模块增加基础编辑能力。
-   修复部分机型多段视频素材编辑时，素材预览切换时出现花屏的情况。
-   修复编辑场景视频导出帧率设置不生效的问题。
-   修复Android平台自定义渲染时相机变化矩阵可能为空的问题。
-   修复SDK稳定性问题。 |
|2021-02-03|V3.19.0|-   新增编辑模块音频降噪功能。
-   新增合拍和视频合并功能，支持设置背景图片和背景颜色。
-   新增合拍和视频合并功能，支持音轨合并。
-   新增支持录制预览阶段，回调音频数据。
-   修复编辑字幕功能，放大字体到某个字号，emoji图案不显示的问题。
-   修复设置水印、图片，添加某些透明光晕图片，光晕变色的问题。
-   修复添加静态图片旋转角度不对问题。 |
|2021-01-13|V3.18.1|修复Android合拍非填充模式下花屏问题。|
|2020-12-31|V3.18.0|-   增加合拍视频指定使用的音轨功能（视频原音、录制声音、静音）。
-   修复 android Q（10）切换画幅会闪烁黑边的问题。 |
|2020-12-1|V3.17.1|-   修复某些机型合成后opengl导致的闪退问题。
-   修复自定义字体不生效问题。
-   修复AlivcSdkCore.setLogPath日志多线程问题。 |
|2020-10-30|V3.17.0|-   Android SDK 包名重构优化，降低接入理解成本，更加友好，新包名统一以com.aliyun.svideosdk.\*命名。最新接口请参见[工程配置](/intl.zh-CN/短视频SDK/Android短视频SDK/工程配置.md)。

转换工具请下载[辅助转换工具](https://alivc-demo-cms.alicdn.com/versionProduct/sourceCode/shortVideo/tool/interface_upgrade.py)。

-   优化萝莉音效、新增方言音效。
-   修复拍照在极端场景下的闪退问题。
-   删除确定不被引用的废弃接口，列表如下：
    -   com.error.NativeErrorCode。
    -   com.qu.preview.callback.OnNativeReady。
    -   com.aliyun.qupai.editor.AliyunIExporter。
    -   com.aliyun.qupai.editor.AliyunIPlayer
    -   com.aliyun.qupai.editor.OnPlayCallback。
    -   com.aliyun.qupai.editor.OnPreparedListener。
    -   com.aliyun.querrorcode.AliyunVideoCoreError。 |
|2020-09-21|V3.16.2|修复高斯模糊背景问题。|
|2020-06-23|V3.16.1|-   修复添加字幕后每行字数不统一问题。
-   修复字幕和动图动画，二次编辑时效果移动不正确问题。 |
|2020-05-12|V3.16.0|-   恢复主流动画功能。
-   修复线上反馈偶现崩溃问题。
-   修复长视频可能出现的播放卡顿问题。
-   修复部分机型兼容性导致的录制崩溃问题。 |
|2020-03-20|V3.15.0|-   修复合成视频播放卡顿问题。
-   修复视频多段变速失效问题。
-   修复一些机型前置摄像头曝光区域无效问题。
-   新增基于自定义特效制作规范的两组转场、滤镜效果转场与滤镜效果。
-   新增自定义特效参数调节接口，支持实时调节特效参数。
-   支持自定义滤镜、转场特效，自定义特效。 |
|2019-12-27|V3.14.0|-   适配Android Q系统，提升Android Q系统录制编辑输出视频性能。
-   优化录制时实现，解决偶现的卡死问题。
-   修复已知几处内存泄漏并优化部分性能。 |
|2019-11-21|V3.13.0|-   录制模块稳定性，性能全面优化。
-   录制模块支持基于RACE的美颜美型功能。 |
|2019-09-10|V3.12.0|-   增加日志分析功能AlivcSdkCore\#setDebugLoggerLevel\(AlivcDebugLoggerLevel level\) 提供三个等级供用户设置。
    -   AlivcDLClose：关闭日志分析功能。
    -   AlivcDLNormal：能分析warning，error级别的日志，建议使用这个等级来做日志分析。
    -   AlivcDLAll：全量Log分析，只建议在定位疑难问题时开启，不建议在正式发版中使用以上功能只会做SDK的日志分析。
-   编辑模块性能提升。
-   编辑模块废除addRunningDisplayMode接口，去除动态切换内容模式功能。
-   编辑模块废除removeRunningDisplayMode接口，去除删除动态切换内容模式功能。 |
|2019-07-30|V3.11.0|-   提升片段录制起停的速度和录制合成的速度，分段录制更加流畅。
-   优化录制进度回调粒度和精准度。
-   精准控制gop，提升部分场景下的转码速度。 |
|2019-06-26|V3.10.5|-   新增合拍功能接口：AliyunIMixRecorder。
-   新增多轨道视频拼接接口（可以实现画中画、左右分屏等效果）：AliyunIMixComposer。 |
|2019-06-12|V3.10.0|-   编辑新增大魔王，小黄人音效，支持mjpeg视频格式。
-   编辑播放提升对部分损坏视频文件的兼容性。
-   编辑/转码新增对HEVC视频硬解支持。
-   转码速度提升。
-   录制新增重新设置预览窗口大小接口。
-   录制修复小段录制视频时长不准确问题。
-   新增合成及上传单独接口，可支持单独合成及单独上传。
-   优化一些句柄未释放导致的泄漏隐患问题。
-   编辑初始化默认不再绘制首帧，新增draw方法支持强制绘制一帧。 |
|2019-04-24|V3.9.0|-   新增音效功能，提供萝莉、大叔、混响、回声等音效。
-   提升编辑模块Seek性能。 |
|2019-03-01|V3.8.0|-   优化了编辑播放能力，流畅播放不卡顿。
-   优化了编辑合成的速度。
-   优化了视频录制预览清晰度。
-   提升低端机器上的录制帧率。 |
|2018-12-14|V3.7.7|-   相同视频质量下，提升视频清晰度。
-   支持导入H265格式的视频。 |
|2018-11-01|V3.7.5|-   新增转场功能包含淡入淡出、多边形转场、百叶窗等主流效果。
-   新增字幕动画功能包含旋转、平移、缩放、透明度。
-   新增多段视频加多个变速时间特效功能。
-   导入GIF图片适配性增强。 |
|2018-08-21|V3.6.5.1|-   集成虾米版权音乐。
-   集成了第三方人脸AR模块，新增高级美颜和美肌。
-   修复多段录制到编辑不能自动播放的问题。
-   修复支持YUV数据对接渲染问题，支持以pixelbuffer的形式对接。 |
|2018-07-26|V3.6.5|-   修复了部分视频裁剪99%卡死问题。
-   修复了部分视频裁剪后预览卡顿问题。
-   修复编辑以及上传模块的已知Bug。 |
|2018-06-21|V3.6.0|-   编辑模块重构，提升转码和合成性能。
-   新增快速，慢速，反复，倒放的时间特效功能。
-   清晰度不变情况下降低视频文件大小。
-   提升视频特效渲览清晰度。
-   支持混音，音频裁剪，任意时间等功能。
-   提升了人脸贴纸追踪效果。 |
|2018-02-09|V3.5.0|-   新增录制模块添加魔法音乐功能。
-   新增特效滤镜：灵活出窍、幻影等功能。 |
|2018-01-03|V3.4.0|-   新增13个滤镜效果。
-   提升人脸识别追踪性能，最大支持3张人脸。
-   新增编辑模块中音乐seek功能，支持任意时间点添加。
-   新增编辑模块转场时间设置。 |
|2017-11-24|V3.3.5|-   新增后台合成和上传功能，提升用户体验。
-   新增选择视频封面功能。
-   编辑界面新增静态贴纸接口。 |
|2017-10-25|V3.3.4|-   新增自定义码率接口。
-   新增GPU裁剪接口，提升性能。
-   内部优化并修复了已知的Bug。 |
|2017-09-29|V3.3.3|-   优化了录制时手动对焦功能。
-   新增视频裁剪后秒进到编辑的接口。
-   为了更好的完善SDK，对程序的闪退，报错等信息进行上报。 |
|2017-08-31|V3.3.2|-   新增裁剪和编辑界面底色接口。
-   新增软编。
-   修复安卓8.0造成的闪退Bug。
-   修复导入本地音乐无法播放的Bug。 |
|2017-08-11|V3.3.1|-   新增人脸识别功能。
-   优化视频录制的清晰度。
-   优化录制文件过大问题。
-   修复录制到编辑界面视频画面黑屏卡死Bug。 |
|2017-07-11|V3.3.0|-   实时混音功能和变速功能。
-   新增视频和照片混合导入功能。 |
|2017-06-23|V3.2.0|-   新增视频涂鸦功能。
-   修复不能输出非方形的缩略图。
-   修复MV移动、选择、缩放等动画无效的问题。
-   提供取非关键帧缩略图接口。 |
|2017-06-16|V3.1.3|-   增加编码格式错误码及提醒。
-   修复裁剪区域不正确的问题，调整下载接口中的bundleId为packageName。
-   底层库提供编码格式错误返回。 |

